<!-- DOM截图 -->
<template>
    <div class="cap">
        <!-- 截图操作 -->
        <div>
            <el-button @click="capture">获取</el-button>
            <el-button @click="changeDomImgUrl">转换图片</el-button>
        </div>
        <!-- 截图图片的dom -->
        <div class="cap-content" ref="dom"></div>
    </div>
</template>

<script>
import html2canvas from 'html2canvas'
import axios from 'axios'
axios.defaults.withCredentials = false
const getBase64ByUrl = (url) => axios.get('http://172.10.10.176:3093/api/file/fileByUrl?url=' + url)
export default {
    data () {
        return {
            htmlStr: '<p><span style="color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">当前，在室内装修工程中，普遍存在着一系列问题。例如：软件以及读图失真导致的最终工程造价偏离预期较大的问题，以及因为传统软件难以及时地调整与修改设计的错漏以及碰撞问题，使得工程建设出现工程延期以及造价成本抬高的问题。室内装修设计、施工是一项需要丰富经验的系统工作。在CAD时代下，精装修图纸绘制效率低下、错误不易被发现、重复出图等，一直困扰着项目各方。</span><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><span style="color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">随着BIM技术的诞生，传统家装与BIM技术相融合，产生了BIM智慧家装，其可视化、协同性、可模拟的特点，大大提高了建筑产业的工作效率，颠覆了传统的家装设计，精装修项目也纷纷开始尝试应用BIM。</span><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><span style="color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">一、设计方案合理性验证及展示</span><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><span style="color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">利用BIM 技术构建空间模型，将二维图纸三维可视化，直观展现室内空间、固定构件及软装家具的对比信息及完成效果。对建筑、机电、装饰构件进行整合。通过BIM技术可以将传统CAD图纸中的墙、面、地面、吊顶、隔断等各专业信息，以三维的形式进行表达，提高信息准确应用与表达，便于各方之间的信息传递与交流，提高沟通效率。</span><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><img id="aimg_22364" class="zoom" style="overflow-wrap: break-word; cursor: pointer;" src="http://bbs.chinabim.com/data/attachment/forum/202005/06/140433iipnbrn8un68ndlt.png" width="600" height="332" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><span style="color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">二、碰撞实验及吊顶完成面的提升</span><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><span style="color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">装饰工程施工过程中各构件位置冲突、阻挡、标高无法实现、施工空间不足等问题非常普遍。原有的设计方式为建筑、结构、机电、装饰各专业分散设计后再进行汇总。各种碰撞问题无法避免。造成施工过程中不可预计的工期延长、成本的提高。</span><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><span style="color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">运用在BIM技术进行碰撞实验，全组件使用三维实体模型，在菜单中选择&ldquo;碰撞检查&rdquo;进行扫描和检测，识别重叠和冲突的图型元素。在图纸阶段发现并解决碰撞问题。</span><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><span style="color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">同时，3D 模型的建立，方便设计师高效的合理安排机电管线的走向，确定管线最低点，从而最大限度提升吊顶完成面标高。</span><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><img id="aimg_22365" class="zoom" style="overflow-wrap: break-word; cursor: pointer;" src="http://bbs.chinabim.com/data/attachment/forum/202005/06/140434cej1wjf5wfjcw3c6.png" width="600" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><span style="color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">三、统计材料用量</span><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><span style="color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">根据工程项目的进度计划，并结合项目的实体模型，生成实时的材料供应计划，确定某一时间段所需要的材料类型和材料数量，使工程项目的材料供应准确、合理，保证工程质量，避免因材料短缺造成窝工、返工，使现场施工一次成型。</span><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><img id="aimg_22366" class="zoom" style="overflow-wrap: break-word; cursor: pointer;" src="http://bbs.chinabim.com/data/attachment/forum/202005/06/140434orz0kfrn44ilkrll.png" width="600" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><span style="color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">四、净高优化</span><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><span style="color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">通过BIM模拟预建造，对空间狭小、管线密集或净高要求高的区域进行净高分析，提前发现不满足净高要求功能和美观需求的部位，避免后期设计变更，从而缩短工期、节约成本。</span><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><img id="aimg_22367" class="zoom" style="overflow-wrap: break-word; cursor: pointer;" src="http://bbs.chinabim.com/data/attachment/forum/202005/06/140434zaxwdwakau8eg8ak.png" width="600" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><span style="color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">五、装修工序、工艺模拟</span><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><span style="color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">精装施工前，利用BIM模型对施工工序、工艺进行模拟演示，通过合理化安排及布置，不但提升了施工精度，也将极大地提高施工效率，大大缩短实施工期。亦可在此过程中对工序所需的材料用量进行快速导出。</span><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><img id="aimg_22368" class="zoom" style="overflow-wrap: break-word; cursor: pointer;" src="http://bbs.chinabim.com/data/attachment/forum/202005/06/140434uk54etxgtn4c42lk.png" width="577" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><span style="color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">六、施工图与效果图关联生成</span><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><span style="color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">BIM模型是三维模型，可以通过不同的平立面直接导出生成施工图，同时，该软件生成的施工图纸与图纸间的关联性很强。如果之后设计人员想要对设计内容进行修改，则不论修改的是软件上的哪一个视图，与其相关联的视图都会进行与之对应的变化，如此一来，就有效的避免cad 出图后图纸修改的任务繁重以及难度较大的问题。</span><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><img id="aimg_22369" class="zoom" style="overflow-wrap: break-word; cursor: pointer;" src="http://bbs.chinabim.com/data/attachment/forum/202005/06/140435l3zbg0d26q9sebz2.png" width="600" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><span style="color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">七、BIM+VR虚拟样板房</span><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><span style="color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">利用BIM建立样板房模型后，利用虚拟设备进行展示，让项目参与方身临其境感受项目所建成后的样子。同时，也可用于消费者看房体验，沉浸式体验和丰富的交互性，让消费者在浏览户型样板间时自行布置家具，在蓄客阶段便将房间及场景展现给消费者，极大的增加成交率。</span><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><img id="aimg_22370" class="zoom" style="overflow-wrap: break-word; cursor: pointer;" src="http://bbs.chinabim.com/data/attachment/forum/202005/06/140435dsq1i8q4s4nbqq8n.png" width="578" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><br style="overflow-wrap: break-word; color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;" /><span style="color: #444444; font-family: \'Microsoft Yahei\', 微软雅黑, Tahoma, Helvetica, SimSun, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">现代建筑的建立和发展，不论是商业综合体、办公建筑、亦或是居住类建筑，人们越来越关注客户体验以及互动性，建筑也不再仅仅只是一个冷冰冰的混凝土结构，倾注了更多的人文关怀的建筑，更加人性化，也更容易打动消费者。</span></p>',
            dom: null
        }
    },
    mounted () {
        this.initDom()
    },
    methods: {
        initDom () {
            this.dom = this.$refs.dom
            this.dom.innerHTML = this.htmlStr
        },
        capture () {
            html2canvas(this.dom).then((canvas) => {
                document.body.appendChild(canvas)
                this.downLoadFile(canvas.toDataURL('image/png', 1), `dom-${this.randomid()}.png`)
            })
        },
        async changeDomImgUrl () {
            const imgs = this.getImgDoms()
            if (imgs && imgs.length > 0) {
                for (let i = 0; i < imgs.length; i ++) {
                    this.imgUrl2Blob(imgs[i])
                }
            } else {
                this.$message.error('无图片资源需转换')
            }
        },
        getImgDoms () {
            return this.dom.getElementsByTagName('img')
        },
        async imgUrl2Blob (imgDom) {
            // getBase64ByUrl
            // const res = await axios({url: imgDom.src, responseType: 'blob'})
            // if (res && res.data.constructor === Blob) {
            //     imgDom.src = await this.blob2Base64Async(res.data)
            // }
            const res = await getBase64ByUrl(imgDom.src)
            if (res && res.data && res.data.data) {
                let baseStr = res.data.data
                baseStr.replace(/=+$/, '')
                imgDom.src = baseStr
            }
        },
        blob2Base64Async (blob) {
            return new Promise((resolve, reject) => {
                const file = new FileReader()
                file.readAsDataURL(blob)
                file.onload = (e) => {
                    resolve(e.target.result)
                }
            })
        },
        dataURLtoBlob (dataurl) {
            const arr = dataurl.split(',')
            const mime = arr[0].match(/:(.*?);/)[1]
            const bstr = atob(arr[1])
            let n = bstr.length
            const u8arr = new Uint8Array(n) || []
            while (n--) {
                u8arr[n] = bstr.charCodeAt(n)
            }
            return new Blob([u8arr], {type: mime})
        },
        downLoadFile (file, name) {
            let fileUrl = ''
            if (file.constructor === Blob) {
                fileUrl = window.URL.createObjectURL(file)
            } else if (file.constructor === String) {
                fileUrl = file
            }
            const a = document.createElement('a')
            a.download = name || 'test.jpg'
            a.href = fileUrl
            document.getElementsByTagName('body')[0].appendChild(a)
            a.click()
            a.parentNode.removeChild(a)
            window.URL.revokeObjectURL(fileUrl)
        },
        randomid () {
            const s4 = () => Math.floor((1 + Math.random()) * 0x10000)
                .toString(16)
                .substring(1)
            return s4() + s4()
        }
    }
}
</script>

<style lang="scss" scoped>
    .cap {
        max-width: 1200px;
        margin: 20px auto;
        box-shadow: 0 0 6px #ccc;
        padding: 20px;
    }
</style>

<style lang="scss">
    .cap-content {
        display: inline-block;
        width: 100%;
        div{
            max-width: 100% !important;
        }
        img{
            max-width: 100%;
            width: auto;
            height: auto;
            display: block;
            margin: 20px auto;
        }
    }
</style>
